<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>è§’è‰²ç¯©é¸</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: url('3.12.jpg') no-repeat center center fixed;
      background-size: cover;
      color: white;
    }

    /* å·¦å´å´é‚Šæ¬„ */
    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 200px;
      height: 100vh;
      background-color: rgba(0, 0, 0, 0.85);
      color: white;
      padding-top: 20px;
      z-index: 1000;
      overflow-y: auto;
    }

    .sidebar .menu {
      list-style: none;
      padding: 0 20px;
      margin: 0;
    }

    .sidebar .menu li {
      padding: 12px 0;
      border-bottom: 1px solid #444;
      cursor: pointer;
      display: flex;
      align-items: center;
    }

    .sidebar .menu li:hover {
      color: gold;
    }

    .page-container {
      margin-left: 200px; /* ç‚ºå´é‚Šæ¬„é ç•™ç©ºé–“ */
      max-height: 100vh;
      overflow-y: auto;
    }

    .filter-section {
      padding: 20px;
      background: rgba(0,0,0,0.6);
    }

    .filter-title {
      margin-top: 10px;
      font-size: 18px;
      color: #ccc;
    }

    .filter-group {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 12px;
    }

    .video-button {
      width: 60px;
      height: 60px;
      border: 2px solid transparent;
      border-radius: 8px;
      background: transparent;
      padding: 0;
      cursor: pointer;
    }

    .video-button video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 8px;
      pointer-events: none;
    }

    .video-button.active {
      border-color: gold;
    }

    .rarity-boxes button {
      padding: 4px 10px;
      border-radius: 6px;
      background: rgba(0,0,0,0.6);
      color: white;
      border: 2px solid transparent;
      cursor: pointer;
    }

    .rarity-boxes button.active {
      border-color: gold;
      color: gold;
    }

    .select-group {
      padding: 4px;
      background: rgba(0,0,0,0.6);
      color: white;
      border-radius: 4px;
      appearance: none;
      margin-bottom: 10px;
    }

    .level-box {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 20px;
    }

    .level-box button {
      padding: 6px 12px;
      border: 1px solid white;
      background: transparent;
      border-radius: 12px;
      color: white;
      cursor: pointer;
    }

    .level-box button.active {
      border-color: gold;
    }

    .character-grid {
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 20px;
      padding: 20px;
    }

    .character-card {
      background: linear-gradient(135deg, rgba(40, 40, 40, 0.95) 0%, rgba(20, 20, 20, 0.95) 100%);
      border-radius: 12px;
      border: 2px solid rgba(100, 100, 100, 0.3);
      transition: all 0.3s ease;
      overflow: hidden;
      position: relative;
      min-height: 280px;
      min-width: 320px;
      display: flex;
      flex-direction: column;
      cursor: pointer; /* æ·»åŠ æ‰‹å‹å…‰æ¨™ */
    }

    .character-card:hover {
      transform: translateY(-4px);
      border-color: gold;
      box-shadow: 0 8px 25px rgba(255, 215, 0, 0.3);
    }

    /* æ·»åŠ é»æ“Šæ•ˆæœ */
    .character-card:active {
      transform: translateY(-2px);
      transition: transform 0.1s ease;
    }

    .card-header {
      display: flex;
      align-items: flex-start;
      padding: 16px;
      gap: 16px;
      flex: 1;
    }

    .char-img {
      width: 100px;
      height: 100px;
      border-radius: 8px;
      background-size: cover;
      background-position: center;
      flex-shrink: 0;
      border: 2px solid rgba(255, 255, 255, 0.2);
    }

    .char-info {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 8px;
      min-width: 0; /* é˜²æ­¢æ–‡å­—æº¢å‡º */
    }

    .char-name {
      font-size: 20px;
      font-weight: bold;
      color: #fff;
      text-shadow: 1px 1px 2px rgba(0,0,0,0.8);
      margin: 0;
      word-break: break-word; /* é•·æ–‡å­—è‡ªå‹•æ›è¡Œ */
    }

    .char-title {
      font-size: 14px;
      color: #aaa;
      margin: 0;
      display: flex;
      align-items: center;
      gap: 8px;
      flex-wrap: wrap; /* å…è¨±æ›è¡Œ */
    }

    .char-title-icon {
      width: 18px;
      height: 18px;
      opacity: 0.7;
      border-radius: 3px;
      background-size: cover;
      background-position: center;
      border: 1px solid rgba(255, 255, 255, 0.2);
      flex-shrink: 0;
    }

    .rarity-stars {
      display: flex;
      align-items: center;
      gap: 8px;
      margin: 4px 0;
    }

    .stars {
      color: #ffd700;
      font-size: 16px;
      text-shadow: 0 0 4px rgba(255, 215, 0, 0.5);
      font-weight: bold;
    }

    .element-icon {
      width: 32px;
      height: 32px;
      border-radius: 6px;
      background-size: cover;
      background-position: center;
      border: 2px solid rgba(255, 255, 255, 0.3);
      transition: all 0.3s ease;
      flex-shrink: 0;
    }

    .element-icon:hover {
      border-color: gold;
      transform: scale(1.1);
    }

    .stats-section {
      background: rgba(0, 0, 0, 0.3);
      padding: 16px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-top: 8px;
      border-radius: 8px; /* æ·»åŠ åœ“è§’ */
    }

    .stat-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      font-size: 14px;
      color: #ddd;
      padding: 6px 8px; /* å¢åŠ å…§é‚Šè·ç¢ºä¿æ–‡å­—åœ¨æ¡†å…§ */
      background: rgba(255, 255, 255, 0.05); /* æ·»åŠ èƒŒæ™¯è‰²è®“æ¡†æ›´æ˜é¡¯ */
      border-radius: 4px; /* æ·»åŠ åœ“è§’ */
      border: 1px solid rgba(255, 255, 255, 0.1); /* æ·»åŠ é‚Šæ¡† */
      min-height: 20px; /* ç¢ºä¿æœ€å°é«˜åº¦ */
      box-sizing: border-box; /* ç¢ºä¿paddingåŒ…å«åœ¨ç¸½å¯¬åº¦å…§ */
    }

    .stat-item:first-child {
      margin-left: -6px; /* HPæ¬„ä½å‘å·¦ç§»å‹• */
    }

    .stat-icon {
      width: 18px;
      height: 18px;
      margin-right: 6px;
      opacity: 0.7;
      flex-shrink: 0; /* é˜²æ­¢åœ–æ¨™è¢«å£“ç¸® */
    }

    .stat-value {
      font-weight: bold;
      color: #fff;
      font-size: 15px;
      white-space: nowrap; /* é˜²æ­¢æ•¸å€¼æ›è¡Œ */
    }

    .stat-label {
      display: flex;
      align-items: center;
      flex-shrink: 0; /* é˜²æ­¢æ¨™ç±¤è¢«å£“ç¸® */
    }

    .rarity-4 .char-img {
      border-color: #a855f7;
      box-shadow: 0 0 8px rgba(168, 85, 247, 0.3);
    }

    .rarity-5 .char-img {
      border-color: #f59e0b;
      box-shadow: 0 0 8px rgba(245, 158, 11, 0.4);
    }
    .icon {
      width: 30px;
      height: 30px;
      margin-right: 10px;
      vertical-align: middle;
    }

    /* æ·»åŠ é»æ“Šæç¤º */
    .character-card::after {
      content: "é»æ“ŠæŸ¥çœ‹è©³æƒ…";
      position: absolute;
      bottom: 10px;
      right: 12px;
      font-size: 11px;
      color: rgba(255, 255, 255, 0.6);
      opacity: 0;
      transition: opacity 0.3s ease;
      background: rgba(0, 0, 0, 0.7);
      padding: 4px 8px;
      border-radius: 4px;
    }

    .character-card:hover::after {
      opacity: 1;
    }
  </style>
</head>
<body>

  <!-- å·¦å´ç›®éŒ„æ¬„ -->
  <div class="sidebar">
    <ul class="menu">
      <h1><b>ç›®éŒ„</b></h1>
      <a href="2.html" style="color: white; text-decoration: none;"><li><img src="ä¸–ç•Œ.png" class="icon" alt="icon"><span> ä¸»ç•«é¢</span></li></a>
      <a href="3.html" style="color: white; text-decoration: none;"><li><img src="äººç‰©.png" class="icon" alt="icon"><span> äººç‰©åœ–é‘‘</span></li></a>
      <a href="4.html" style="color: white; text-decoration: none;"><li><img src="å…‰éŒ.png" class="icon" alt="icon"><span> è£å‚™åœ–é‘‘</span></li></a>
      <a href="2.3.html" style="color: white; text-decoration: none;"><li><img src="ç‰©å“.png" class="icon" alt="icon"><span>è£½ä½œç´ æ</span></li></a>
      <a href="2.4.html" style="color: white; text-decoration: none;"><li><img src="æ•µäºº.png" class="icon" alt="icon"><span>è£½ä½œå·¥å…·</span></li></a>
    </ul>
  </div>

  <!-- ä¸»å…§å®¹ -->
  <div class="page-container">
    <div class="filter-section">
      <div class="filter-title">æˆ°é¬¥å±¬æ€§</div>
      <div class="filter-group" id="battle-attributes">
        <button data-value="0" class="video-button">
          <video src="é‡å­.mov" muted preload="auto"></video>
        </button>
        <button data-value="1" class="video-button">
          <video src="ç‰©ç†.mp4" muted preload="auto"></video>
        </button>
                <button data-value="2" class="video-button">
          <video src="é¢¨.mp4" muted preload="auto"></video>
        </button>
                <button data-value="3" class="video-button">
          <video src="ç«.mov" muted preload="auto"></video>
        </button>
                <button data-value="4" class="video-button">
          <video src="è™›æ•¸.mov" muted preload="auto"></video>
        </button>
                      <button data-value="5" class="video-button">
          <video src="é›·.mov" muted preload="auto"></video>
        </button>
                      <button data-value="6" class="video-button">
          <video src="å†°.mov" muted preload="auto"></video>
        </button>
      </div>

      <div class="filter-title">å‘½é€”</div>
      <div class="filter-group" id="paths">
        <button data-value="0" class="video-button">
          <video src="æ¯€æ»….mov" muted preload="auto"></video>
        </button>
        <button data-value="1" class="video-button">
          <video src="å·¡çµ.mov" muted preload="auto"></video>
        </button>
        <button data-value="2" class="video-button">
          <video src="æ™ºè­˜.mov" muted preload="auto"></video>
        </button>
                <button data-value="3" class="video-button">
          <video src="åŒå”.mov" muted preload="auto"></video>
        </button>
                <button data-value="4" class="video-button">
          <video src="è™›ç„¡.mov" muted preload="auto"></video>
        </button>
                <button data-value="5" class="video-button">
          <video src="å­˜è­·.mov" muted preload="auto"></video>
        </button>
                <button data-value="6" class="video-button">
          <video src="è±é¥’.mov" muted preload="auto"></video>
        </button>
      </div>

      <div class="filter-title">ç¨€æœ‰åº¦</div>
      <div class="filter-group rarity-boxes" id="rarity">
        <button data-value="4">â˜…â˜…â˜…â˜…</button>
        <button data-value="5">â˜…â˜…â˜…â˜…â˜…</button>
      </div>

      <div class="filter-title">é™£ç‡Ÿ</div>
      <select class="select-group" id="faction-filter">
        <option value="">å…¨éƒ¨</option>
        <option value="A">æ˜Ÿéš›å’Œå¹³å…¬å¸</option>
        <option value="B">æ˜Ÿç©¹åˆ—è»Š</option>
      </select>

      <div class="filter-title">ç­‰ç´š</div>
      <div class="level-box" id="level-box">
        <button class="active" data-lv="1">Lv1</button>
        <button data-lv="80">Lv80</button>
      </div>
    </div>

    <div class="character-grid" id="character-grid">
      <!-- å‹•æ…‹è§’è‰²å¡ç‰‡å°‡åœ¨é€™è£¡ç”Ÿæˆ -->
    </div>
  </div>

  <script>
    const characters = [
      {
        name: "é˜¿å“ˆ",
        title: "æ­¡æ„‰æ˜Ÿç¥",
        battle: "",
        path: "",
        rarity: "5",
        faction: "A",
        imgLv1: "é˜¿å“ˆè·‘.jpg",
        imgLv80: "é˜¿å“ˆè·‘.jpg",
        statLv1: ["HP:????" , "DEF:????" , "ATK:????" , "SPD:????"],
        statLv80: ["HP:????" , "DEF:????" , "ATK:????" , "SPD:????"],
        detailPage: "https://youtu.be/tAWl9oiFmx8?si=AoVDcU6O-1tgDeJD" // æ·»åŠ è©³ç´°é é¢é€£çµ
      },
      {
        name: "æ–¯ç§‘ç‰¹",
        title: "è™›ç„¡",
        battle: "4",
        path: "4",
        rarity: "5",
        faction: "A",
        imgLv1: "s1.jpg",
        imgLv80: "s1.jpg",
        statLv1: ["HP:138" , "DEF:55" , "ATK:80" , "SPD:104"],
        statLv80: ["HP:5800" , "DEF:2320" , "ATK:3330" , "SPD:110"],
        detailPage: "5.html" // æ·»åŠ è©³ç´°é é¢é€£çµ
      }
    ];

    const grid = document.getElementById('character-grid');
    const levelState = { lv: '1' };

    function renderCharacters() {
      grid.innerHTML = '';
      characters.forEach(c => {
        const card = document.createElement('div');
        card.className = `character-card rarity-${c.rarity}`;
        card.dataset.battle = c.battle;
        card.dataset.path = c.path;
        card.dataset.rarity = c.rarity;
        card.dataset.faction = c.faction;
        card.dataset.imgLv1 = c.imgLv1;
        card.dataset.imgLv80 = c.imgLv80;
        card.dataset.statLv1 = c.statLv1.join(',');
        card.dataset.statLv80 = c.statLv80.join(',');
        card.dataset.detailPage = c.detailPage; // å„²å­˜è©³ç´°é é¢é€£çµ

        // æ·»åŠ é»æ“Šäº‹ä»¶ç›£è½å™¨
        card.addEventListener('click', function() {
          // æª¢æŸ¥æ˜¯å¦æœ‰è©³ç´°é é¢é€£çµ
          if (c.detailPage) {
            window.location.href = c.detailPage;
          } else {
            // å¦‚æœæ²’æœ‰è¨­å®šè©³ç´°é é¢ï¼Œå¯ä»¥é¡¯ç¤ºæç¤ºæˆ–è·³è½‰åˆ°é è¨­é é¢
            alert(`${c.name} çš„è©³ç´°é é¢å°šæœªå»ºç«‹`);
            // æˆ–è€…è·³è½‰åˆ°é€šç”¨çš„è§’è‰²è©³ç´°é é¢ï¼Œä¸¦å‚³éè§’è‰²åç¨±åƒæ•¸
            // window.location.href = `character_detail.html?name=${encodeURIComponent(c.name)}`;
          }
        });

        // å¡ç‰‡é ­éƒ¨
        const cardHeader = document.createElement('div');
        cardHeader.className = 'card-header';

        // è§’è‰²é ­åƒ
        const img = document.createElement('div');
        img.className = 'char-img';
        img.style.backgroundImage = `url(${c[`imgLv${levelState.lv}`]})`;

        // è§’è‰²è³‡è¨Šå€åŸŸ
        const info = document.createElement('div');
        info.className = 'char-info';
        
        // è§’è‰²åå­—ï¼ˆç§»é™¤åœ–æ¨™ï¼‰
        const name = document.createElement('div');
        name.className = 'char-name';
        name.textContent = c.name;
        
        // è§’è‰²è·æ¥­/ç¨±è™Ÿï¼ˆæ·»åŠ åœ–æ¨™ï¼‰
        const title = document.createElement('div');
        title.className = 'char-title';
        
        const titleIcon = document.createElement('div');
        titleIcon.className = 'char-title-icon';
        titleIcon.style.backgroundImage = `url('${getPathImage(c.path)}')`;
        
        title.appendChild(titleIcon);
        title.appendChild(document.createTextNode(c.title));
        
        // ç¨€æœ‰åº¦å’Œå±¬æ€§
        const raritySection = document.createElement('div');
        raritySection.className = 'rarity-stars';
        
        const stars = document.createElement('span');
        stars.className = 'stars';
        stars.textContent = 'â˜…'.repeat(parseInt(c.rarity));
        
        // å°‡å±¬æ€§æ”¹ç‚ºåœ–ç‰‡
        const elementIcon = document.createElement('div');
        elementIcon.className = 'element-icon';
        elementIcon.style.backgroundImage = `url('${getElementImage(c.battle)}')`;
        elementIcon.title = getElementName(c.battle);
        
        raritySection.appendChild(stars);
        raritySection.appendChild(elementIcon);
        
        info.appendChild(name);
        info.appendChild(title);
        info.appendChild(raritySection);
        
        // æ•¸æ“šå€åŸŸ
        const statsSection = document.createElement('div');
        statsSection.className = 'stats-section';
        
        c[`statLv${levelState.lv}`].forEach((statLine, index) => {
          const [statType, value] = statLine.split(':');
          const statItem = document.createElement('div');
          statItem.className = 'stat-item';
          
          // å¦‚æœæ˜¯ç¬¬ä¸€å€‹ï¼ˆHPï¼‰ï¼Œæ·»åŠ ç‰¹æ®Šclass
          if (index === 0) {
            statItem.classList.add('stat-hp');
          }
          
          const statLabel = document.createElement('span');
          statLabel.className = 'stat-label';
          
          const icon = document.createElement('span');
          icon.className = 'stat-icon';
          icon.textContent = getStatIcon(statType);
          
          statLabel.appendChild(icon);
          statLabel.appendChild(document.createTextNode(statType));
          
          const statValue = document.createElement('span');
          statValue.className = 'stat-value';
          statValue.textContent = value;
          
          statItem.appendChild(statLabel);
          statItem.appendChild(statValue);
          statsSection.appendChild(statItem);
        });

        info.appendChild(statsSection);
        cardHeader.appendChild(img);
        cardHeader.appendChild(info);
        card.appendChild(cardHeader);
        grid.appendChild(card);
      });
    }

    // å–å¾—å±¬æ€§åœ–ç‰‡è·¯å¾‘
    function getElementImage(battleType) {
      const images = {
        '0': 'é‡å­å±¬æ€§.png',
        '1': 'ç‰©ç†å±¬æ€§.png',
        '2': 'é¢¨å±¬æ€§.png',
        '3': 'ç«å±¬æ€§.png',
        '4': 'è™›æ•¸.png',
        '5': 'é›·å±¬æ€§.png',
        '6': 'å†°å±¬æ€§.png'
      };
      return images[battleType] || 'defaultå±¬æ€§.png';
    }

    // å–å¾—å‘½é€”åœ–ç‰‡è·¯å¾‘
    function getPathImage(pathType) {
      const images = {
        '0': 'æ¯€æ»…å‘½é€”.png',
        '1': 'å·¡çµå‘½é€”.png',
        '2': 'æ™ºè­˜å‘½é€”.png',
        '3': 'åŒå”å‘½é€”.png',
        '4': 'è™›ç„¡.png',
        '5': 'å­˜è­·å‘½é€”.png',
        '6': 'è±é¥’å‘½é€”.png'
      };
      return images[pathType] || 'defaultå‘½é€”.png';
    }

    // åŸ getPathColor å‡½æ•¸å·²æ”¹ç‚º getPathImageï¼Œæ­¤å‡½æ•¸å·²æ£„ç”¨
    function getPathColor(pathType) {
      // æ­¤å‡½æ•¸å·²è¢« getPathImage å–ä»£ï¼Œä¿ç•™ä»¥é¿å…éŒ¯èª¤
      const images = {
        '0': 'æ¯€æ»…å‘½é€”.png',
        '1': 'å·¡çµå‘½é€”.png',
        '2': 'æ™ºè­˜å‘½é€”.png',
        '3': 'åŒå”å‘½é€”.png',
        '4': 'è™›ç„¡.png',
        '5': 'å­˜è­·å‘½é€”.png',
        '6': 'è±é¥’å‘½é€”.png'
      };
      return `url('${images[pathType] || 'defaultå‘½é€”.png'}')`;
    }

    // å–å¾—å±¬æ€§åç¨±
    function getElementName(battleType) {
      const names = {
        '0': 'é‡å­', '1': 'ç‰©ç†', '2': 'é¢¨', '3': 'ç«',
        '4': 'è™›æ•¸', '5': 'é›·', '6': 'å†°'
      };
      return names[battleType] || 'æœªçŸ¥';
    }

    // å–å¾—å‘½é€”åç¨±
    function getPathName(pathType) {
      const names = {
        '0': 'æ¯€æ»…', '1': 'å·¡çµ', '2': 'æ™ºè­˜', '3': 'åŒå”',
        '4': 'è™›ç„¡', '5': 'å­˜è­·', '6': 'è±é¥’'
      };
      return names[pathType] || 'æœªçŸ¥';
    }

    // å–å¾—æ•¸æ“šåœ–æ¨™
    function getStatIcon(statType) {
      const icons = {
        'HP': 'â™¥',
        'ATK': 'âš”',
        'DEF': 'ğŸ›¡',
        'SPD': 'âš¡'
      };
      return icons[statType] || 'â—';
    }

    function setupToggle(selector, single = false) {
      document.querySelector(selector).addEventListener('click', e => {
        const btn = e.target.closest('button');
        if (!btn) return;
        if (single) {
          document.querySelectorAll(selector + ' button').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
        } else {
          btn.classList.toggle('active');
        }
        applyFilters();
      });
    }

    setupToggle('#battle-attributes');
    setupToggle('#paths');
    setupToggle('#rarity');
    setupToggle('#level-box', true);

    document.getElementById('faction-filter').addEventListener('change', applyFilters);

    document.getElementById('level-box').addEventListener('click', e => {
      const lv = e.target.dataset.lv;
      if (!lv) return;
      levelState.lv = lv;
      renderCharacters();
      applyFilters();
    });

    function getActiveValues(selector) {
      return Array.from(document.querySelectorAll(selector + ' button.active')).map(b => b.dataset.value);
    }

    function applyFilters() {
      const bs = getActiveValues('#battle-attributes');
      const ps = getActiveValues('#paths');
      const rs = getActiveValues('#rarity');
      const faction = document.getElementById('faction-filter').value;

      document.querySelectorAll('.character-card').forEach(card => {
        let ok = true;
        if (bs.length && !bs.includes(card.dataset.battle)) ok = false;
        if (ps.length && !ps.includes(card.dataset.path)) ok = false;
        if (rs.length && !rs.includes(card.dataset.rarity)) ok = false;
        if (faction && card.dataset.faction !== faction) ok = false;
        card.style.display = ok ? 'flex' : 'none';
      });
    }

    renderCharacters();
    applyFilters();

    document.querySelectorAll('.video-button').forEach(button => {
      const video = button.querySelector('video');
      button.addEventListener('mouseenter', () => {
        if (video.paused) {
          video.currentTime = 0;
          video.play();
        }
      });
    });
  </script>
</body>
</html>