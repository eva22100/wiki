<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8">
  <title>è£å‚™åœ–é‘‘</title>
  <style>
    body {
      margin: 0;
      font-family: "Segoe UI", sans-serif;
      background: url('3.12.jpg') no-repeat center center fixed;
      background-size: cover;
      color: white;
    }

    .sidebar {
      position: fixed;
      top: 0;
      left: 0;
      width: 200px;
      height: 100vh;
      background-color: rgba(0, 0, 0, 0.85);
      color: white;
      padding-top: 20px;
      z-index: 1000;
      overflow-y: auto;
    }

    .sidebar .menu {
      list-style: none;
      padding: 0 20px;
      margin: 0;
    }

    .sidebar .menu li {
      padding: 12px 0;
      border-bottom: 1px solid #444;
      cursor: pointer;
    }

    .sidebar .menu li:hover {
      color: gold;
    }

    .page-container {
      margin-left: 200px;
      max-height: 100vh;
      overflow-y: auto;
    }

    .filter-section {
      padding: 20px;
      background: rgba(0,0,0,0.6);
    }

    .filter-title {
      margin-top: 10px;
      font-size: 18px;
      color: #ccc;
    }

    .filter-group {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 12px;
    }

    .video-button {
      width: 60px;
      height: 60px;
      border: 2px solid transparent;
      border-radius: 8px;
      background: transparent;
      padding: 0;
      cursor: pointer;
    }

    .video-button video {
      width: 100%;
      height: 100%;
      object-fit: cover;
      border-radius: 8px;
      pointer-events: none;
    }

    .video-button.active {
      border-color: gold;
    }

    .rarity-boxes button {
      padding: 4px 10px;
      border-radius: 6px;
      background: rgba(0,0,0,0.6);
      color: white;
      border: 2px solid transparent;
      cursor: pointer;
    }

    .rarity-boxes button.active {
      border-color: gold;
      color: gold;
    }

    .select-group {
      padding: 4px;
      background: rgba(0,0,0,0.6);
      color: white;
      border-radius: 4px;
      appearance: none;
      margin-bottom: 10px;
    }

    .level-box {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-bottom: 20px;
    }

    .level-box button {
      padding: 6px 12px;
      border: 1px solid white;
      background: transparent;
      border-radius: 12px;
      color: white;
      cursor: pointer;
    }

    .level-box button.active {
      border-color: gold;
    }

    .character-grid {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 16px;
      padding: 20px;
    }

    .character-card {
      background: rgba(0,0,0,0.75);
      padding: 10px;
      border-radius: 10px;
      display: flex;
      flex-direction: row;
      align-items: flex-start;
      gap: 12px;
      border: 1px solid #555;
      transition: transform 0.2s;
      text-decoration: none;
      color: white;
      cursor: pointer;
    }

    .character-card:hover {
      transform: translateY(-4px);
      border-color: gold;
    }

    .char-info {
      display: flex;
      flex-direction: column;
      font-size: 14px;
      flex: 1;
    }

    .stat-line {
      margin-top: 2px;
    }

    .stats {
      font-size: 14px;
    }

    .icon {
      width: 30px;
      height: 30px;
      margin-right: 10px;
      vertical-align: middle;
    }
  </style>
</head>
<body>

  <!-- å·¦å´ç›®éŒ„æ¬„ -->
  <div class="sidebar">
    <ul class="menu">
      <h1><b>ç›®éŒ„</b></h1>
      <a href="2.html" style="color: white; text-decoration: none;"><li><img src="ä¸–ç•Œ.png" class="icon">ä¸»ç•«é¢</li></a>
      <a href="3.html" style="color: white; text-decoration: none;"><li><img src="äººç‰©.png" class="icon">äººç‰©åœ–é‘‘</li></a>
      <a href="4.html" style="color: white; text-decoration: none;"><li><img src="å…‰éŒ.png" class="icon">è£å‚™åœ–é‘‘</li></a>
      <a href="2.html" style="color: white; text-decoration: none;"><li><img src="ç‰©å“.png" class="icon">ç‰©å“åœ–é‘‘</li></a>
    </ul>
  </div>

  <!-- ä¸»å…§å®¹ -->
  <div class="page-container">
    <div class="filter-section">

      <div class="filter-title">å‘½é€”</div>
      <div class="filter-group" id="paths">
        <button type="button" data-value="0" class="video-button"><video src="æ¯€æ»….mov" muted preload="auto"></video></button>
        <button type="button" data-value="1" class="video-button"><video src="å·¡çµ.mov" muted preload="auto"></video></button>
        <button type="button" data-value="2" class="video-button"><video src="æ™ºè­˜.mov" muted preload="auto"></video></button>
        <button type="button" data-value="3" class="video-button"><video src="åŒå”.mov" muted preload="auto"></video></button>
        <button type="button" data-value="4" class="video-button"><video src="è™›ç„¡.mov" muted preload="auto"></video></button>
        <button type="button" data-value="5" class="video-button"><video src="å­˜è­·.mov" muted preload="auto"></video></button>
        <button type="button" data-value="6" class="video-button"><video src="è±é¥’.mov" muted preload="auto"></video></button>
      </div>

      <div class="filter-title">ç¨€æœ‰åº¦</div>
      <div class="filter-group rarity-boxes" id="rarity">
        <button type="button" data-value="3">â˜…â˜…â˜…</button>
        <button type="button" data-value="4">â˜…â˜…â˜…â˜…</button>
        <button type="button" data-value="5">â˜…â˜…â˜…â˜…â˜…</button>
      </div>

      <div style="display: flex; gap: 10px;">
        <select id="faction-filter" style="background-color: #2a2a2a; color: white; border: 1px solid #444; padding: 8px 12px; border-radius: 4px; font-size: 14px; min-width: 120px;">
          <option value="">æŠ€èƒ½é¡å‹</option>
          <option value="A">æˆ‘æ‡¶å¾—åˆ†</option>
        </select>
        
        <select id="element-filter" style="background-color: #2a2a2a; color: white; border: 1px solid #444; padding: 8px 12px; border-radius: 4px; font-size: 14px; min-width: 120px;">
          <option value="">å–å¾—é€”å¾‘</option>
          <option value="dream">å¤¢è£¡</option>
        </select>
      </div>

      <div class="filter-title">ç­‰ç´š</div>
      <div class="level-box" id="level-box">
        <button type="button" class="active" data-lv="1">Lv1</button>
        <button type="button" data-lv="80">Lv80</button>
      </div>

    </div>

    <div class="character-grid" id="character-grid">
      <!-- å‹•æ…‹è§’è‰²å¡ç‰‡ -->
    </div>
  </div>

  <script>
    // ä¿®æ­£å¾Œçš„è§’è‰²æ•¸æ“šçµæ§‹ï¼ŒåŒ…å«ä¸åŒç­‰ç´šçš„æ•¸å€¼
    const characters = [
      {
        name: "é˜¿å“ˆ.å•å€™",
        type: "æ­¡æ„‰",
        path: "",
        rarity: "5",
        faction: "A",
        element: "dream",
        img: "https://via.placeholder.com/80x80/ff6b6b/ffffff?text=é˜¿å“ˆ",
        stats: {
          1: { hp: "????", def: "????", atk: "????" },
          80: { hp: "????", def: "????", atk: "????" }
        },
        description: "æ¨‚å­<br>é˜¿åŸºç»´åˆ©â€”â€”é˜¿åŸºç»´åˆ©ï¼å¥½ä¹…ä¸è§ï¼Œç”šæ˜¯æƒ³å¿µï¼",
        link: "https://example.com/aha"
      },
      {
        name: "æˆ‘å¯æ˜¯å­¤ç‹¼å•Š",
        type: "è™›ç„¡",  
        path: "4",
        rarity: "5",
        faction: "A",
        element: "dream",
        img: "https://via.placeholder.com/80x80/4ecdc4/ffffff?text=ä¸¹æ†",
        stats: {
          1: { hp: "400", def: "220", atk: "190" },
          80: { hp: "952", def: "463", atk: "529" }
        },
        description: "å‘é„™<br>æ¯ç•¶æˆ‘æ–¹ä»»æ„è§’è‰²æˆåŠŸå°æ•µäººæ–½åŠ è² é¢æ•ˆæœæ™‚ï¼Œç²å¾—1å±¤...",
        link: "https://example.com/danheng"
      }
    ];

    const grid = document.getElementById('character-grid');
    const levelState = { lv: '1' };

    // ä¿®æ­£å¾Œçš„æ¸²æŸ“å‡½æ•¸
    function renderCharacters() {
      grid.innerHTML = '';
      characters.forEach(c => {
        const card = document.createElement('div');
        card.className = 'character-card';
        
        // æ·»åŠ å¿…è¦çš„ data å±¬æ€§ç”¨æ–¼ç¯©é¸
        card.dataset.path = c.path;
        card.dataset.rarity = c.rarity;
        card.dataset.faction = c.faction;
        card.dataset.element = c.element;

        // åœ–ç‰‡
        const img = document.createElement('img');
        img.src = c.img;
        img.style.width = '80px';
        img.style.height = '80px';
        img.style.borderRadius = '4px';
        img.style.flexShrink = '0';
        img.style.objectFit = 'cover';

        // å¡ç‰‡å³å´è³‡è¨Šå€
        const info = document.createElement('div');
        info.className = 'char-info';

        // ç²å–ç•¶å‰ç­‰ç´šçš„æ•¸å€¼
        const currentStats = c.stats[levelState.lv];

        // åç¨±èˆ‡é¡å‹
        const name = document.createElement('div');
        name.innerHTML = `<b style="color:#fcd34d">${c.name}</b>`;
        const type = document.createElement('div');
        type.textContent = c.type;
        type.style.fontSize = '12px';
        type.style.color = '#ccc';

        // æ˜Ÿç´š
        const stars = document.createElement('div');
        stars.innerHTML = 'â˜…'.repeat(parseInt(c.rarity));
        stars.style.color = '#ffd700';
        stars.style.margin = '4px 0';

        // æ•¸å€¼åˆ—ï¼ˆä½¿ç”¨ç•¶å‰ç­‰ç´šçš„æ•¸å€¼ï¼‰
        const stats = document.createElement('div');
        stats.className = 'stats';
        stats.innerHTML = `
          <div class="stat-line">â™¡ ${currentStats.hp}ã€€ğŸ›¡ ${currentStats.def}ã€€âš” ${currentStats.atk}</div>
        `;

        // æè¿°
        const desc = document.createElement('div');
        desc.className = 'stat-line';
        desc.innerHTML = c.description;
        desc.style.marginTop = '6px';
        desc.style.fontSize = '12px';
        desc.style.color = '#bbb';

        // åŠ å…¥åˆ° info
        info.appendChild(name);
        info.appendChild(type);
        info.appendChild(stars);
        info.appendChild(stats);
        info.appendChild(desc);

        card.appendChild(img);
        card.appendChild(info);
        grid.appendChild(card);
      });
    }

    function setupToggle(selector, single = false) {
      document.querySelector(selector).addEventListener('click', e => {
        const btn = e.target.closest('button');
        if (!btn) return;
        if (single) {
          document.querySelectorAll(selector + ' button').forEach(b => b.classList.remove('active'));
          btn.classList.add('active');
        } else {
          btn.classList.toggle('active');
        }
        applyFilters();
      });
    }

    setupToggle('#paths');
    setupToggle('#rarity');
    setupToggle('#level-box', true);

    // ç‚ºå…©å€‹ä¸‹æ‹‰é¸å–®éƒ½æ·»åŠ äº‹ä»¶ç›£è½å™¨
    document.getElementById('faction-filter').addEventListener('change', applyFilters);
    document.getElementById('element-filter').addEventListener('change', applyFilters);

    document.getElementById('level-box').addEventListener('click', e => {
      const lv = e.target.dataset.lv;
      if (!lv) return;
      levelState.lv = lv;
      renderCharacters();
      applyFilters();
    });

    function getActiveValues(selector) {
      return Array.from(document.querySelectorAll(selector + ' button.active')).map(b => b.dataset.value);
    }

    function applyFilters() {
      const ps = getActiveValues('#paths');
      const rs = getActiveValues('#rarity');
      const faction = document.getElementById('faction-filter').value;
      const element = document.getElementById('element-filter').value;

      document.querySelectorAll('.character-card').forEach(card => {
        let ok = true;
        if (ps.length && !ps.includes(card.dataset.path)) ok = false;
        if (rs.length && !rs.includes(card.dataset.rarity)) ok = false;
        if (faction && card.dataset.faction !== faction) ok = false;
        if (element && card.dataset.element !== element) ok = false;
        card.style.display = ok ? 'flex' : 'none';
      });
    }

    // åˆå§‹åŒ–
    renderCharacters();
    applyFilters();

    // è¦–é »æŒ‰éˆ•æ‡¸åœæ•ˆæœ
    document.querySelectorAll('.video-button').forEach(button => {
      const video = button.querySelector('video');
      button.addEventListener('mouseenter', () => {
        if (video && video.paused) {
          video.currentTime = 0;
          video.play();
        }
      });
    });
  </script>
</body>
</html>